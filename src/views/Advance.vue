<!-- views/Home.vue -->
<template>
  <div class="home">
  <div class="unlockpro">    
    <button @click="handleButtonClick()">
      Unlock Pro Diet Plan      
      <div class="star-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
            version="1.1"
            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
            viewBox="0 0 784.11 815.53"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <defs></defs>
            <g id="Layer_x0020_1">
              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
              <path
                class="fil0"
                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
              ></path>
            </g>
          </svg>
        </div>
        <div class="star-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
            version="1.1"
            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
            viewBox="0 0 784.11 815.53"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <defs></defs>
            <g id="Layer_x0020_1">
              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
              <path
                class="fil0"
                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
              ></path>
            </g>
          </svg>
        </div>
        <div class="star-3">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
            version="1.1"
            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
            viewBox="0 0 784.11 815.53"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <defs></defs>
            <g id="Layer_x0020_1">
              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
              <path
                class="fil0"
                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
              ></path>
            </g>
          </svg>
        </div>
        <div class="star-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
            version="1.1"
            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
            viewBox="0 0 784.11 815.53"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <defs></defs>
            <g id="Layer_x0020_1">
              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
              <path
                class="fil0"
                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
              ></path>
            </g>
          </svg>
        </div>
        <div class="star-5">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
            version="1.1"
            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
            viewBox="0 0 784.11 815.53"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <defs></defs>
            <g id="Layer_x0020_1">
              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
              <path
                class="fil0"
                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
              ></path>
            </g>
          </svg>
        </div>
        <div class="star-6">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
            version="1.1"
            style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
            viewBox="0 0 784.11 815.53"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <defs></defs>
            <g id="Layer_x0020_1">
              <metadata id="CorelCorpID_0Corel-Layer"></metadata>
              <path
                class="fil0"
                d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"
              ></path>
            </g>
          </svg>
        </div>
      </button>
  </div>
    <ExerciseDay 
      headingButtonText="I'M READY FOR DAY - 1" 
      subheadingButtonText="bicep"
      :videos="bicepVideos"
      :posterImages="bicepPosterImages"
      mainVideoSrc="/bicep/bicep1.mp4"
    />
    <ExerciseDay 
      headingButtonText="I'M READY FOR DAY - 2" 
      subheadingButtonText="tricep"
      :videos="tricepVideos"
      :posterImages="tricepPosterImages"
      mainVideoSrc="/tricep/tricep1.mp4"
    />
    <ExerciseDay 
      headingButtonText="I'M READY FOR DAY - 3" 
      subheadingButtonText="chest"
      :videos="chestVideos"
      :posterImages="chestPosterImages"
      mainVideoSrc="/chest/chest1.mp4"
    />
    <ExerciseDay 
      headingButtonText="I'M READY FOR DAY - 4" 
      subheadingButtonText="shoulder"
      :videos="shoulderVideos"
      :posterImages="shoulderPosterImages"
      mainVideoSrc="/shoulder/video1.mp4"
    />
    <ExerciseDay 
      headingButtonText="I'M READY FOR DAY - 5" 
      subheadingButtonText="back"
      :videos="backVideos"
      :posterImages="backPosterImages"
      mainVideoSrc="/back/back1.mp4"
    />
    <ExerciseDay 
      headingButtonText="I'M READY FOR DAY - 6" 
      subheadingButtonText="leg"
      :videos="legVideos"
      :posterImages="legPosterImages"
      mainVideoSrc="/leg/leg1.mp4"
    />
    <br><br><br><br><br>
  </div>
</template>

<script>
import ExerciseDay from '@/components/Days.vue';
import ReadyButton from "@/components/ReadyButton.vue";
import RegistrationPopup from '@/components/RegistrationPopup.vue';
export default {
  name: 'Home',
  components: {
    ExerciseDay,
    ReadyButton,
    RegistrationPopup
  },
  setup() {
    const bicepVideos = [
      '/bicep/bicep1.mp4',
      '/bicep/bicep2.mp4',
      '/bicep/bicep3.mp4',
      '/bicep/bicep4.mp4',
      '/bicep/bicep5.mp4',
      '/bicep/bicep6.mp4',
      '/bicep/bicep7.mp4',
      '/bicep/bicep8.mp4',
      '/bicep/bicep9.mp4',
    ];

    const tricepVideos = [
      '/tricep/tricep1.mp4',
      '/tricep/tricep2.mp4',
      '/tricep/tricep3.mp4',
      '/tricep/tricep4.mp4',
      '/tricep/tricep5.mp4',
      '/tricep/tricep6.mp4',
    ];

    const chestVideos = [
      '/chest/chest1.mp4',
      '/chest/chest2.mp4',
      '/chest/chest3.mp4',
      '/chest/chest4.mp4',
      '/chest/chest5.mp4',
      '/chest/chest6.mp4',
      '/chest/chest7.mp4',
    ];

    const shoulderVideos = [
      '/shoulder/video1.mp4',
      '/shoulder/video2.mp4',
      '/shoulder/video3.mp4',
      '/shoulder/video4.mp4',
      '/shoulder/video5.mp4',
      '/shoulder/video6.mp4',
      '/shoulder/video7.mp4',
      '/shoulder/video8.mp4',
    ];

    const backVideos = [
      '/back/back1.mp4',
      '/back/back2.mp4',
      '/back/back3.mp4',
      '/back/back4.mp4',
      '/back/back5.mp4',
      '/back/back6.mp4',
      '/back/back7.mp4',
      '/back/back8.mp4',
    ];

    const legVideos = [
      '/leg/leg1.mp4',
      '/leg/leg2.mp4',
      '/leg/leg3.mp4',
      '/leg/leg4.mp4',
      '/leg/leg5.mp4',
      '/leg/leg6.mp4',
      '/leg/leg7.mp4',
    ];

    const bicepPosterImages = [
      '/bicepImg/bicep1.png',
      '/bicepImg/bicep2.png',
      '/bicepImg/bicep3.png',
      '/bicepImg/bicep4.png',
      '/bicepImg/bicep5.png',
      '/bicepImg/bicep6.png',
      '/bicepImg/bicep7.png',
      '/bicepImg/bicep8.png',
      '/bicepImg/bicep9.png',
    ];

    const tricepPosterImages = [
      '/tricepImg/tricep1.png',
      '/tricepImg/tricep2.png',
      '/tricepImg/tricep3.png',
      '/tricepImg/tricep4.png',
      '/tricepImg/tricep5.png',
      '/tricepImg/tricep6.png',
    ];

    const chestPosterImages = [
      '/chestImg/chest1.png',
      '/chestImg/chest2.png',
      '/chestImg/chest3.png',
      '/chestImg/chest4.png',
      '/chestImg/chest5.png',
      '/chestImg/chest6.png',
      '/chestImg/chest7.png',
    ];

    const shoulderPosterImages = [
      '/shoulderImg/shoulder1.png',
      '/shoulderImg/shoulder2.png',
      '/shoulderImg/shoulder3.png',
      '/shoulderImg/shoulder4.png',
      '/shoulderImg/shoulder5.png',
      '/shoulderImg/shoulder6.png',
      '/shoulderImg/shoulder7.png',
      '/shoulderImg/shoulder8.png',
    ];

    const backPosterImages = [
      '/backImg/back1.png',
      '/backImg/back2.png',
      '/backImg/back3.png',
      '/backImg/back4.png',
      '/backImg/back5.png',
      '/backImg/back6.png',
      '/backImg/back7.png',
      '/backImg/back8.png',
    ];

    const legPosterImages = [
      '/legImg/leg1.png',
      '/legImg/leg2.png',
      '/legImg/leg3.png',
      '/legImg/leg4.png',
      '/legImg/leg5.png',
      '/legImg/leg6.png',
      '/legImg/leg7.png',
    ];

    return {
      bicepVideos,
      tricepVideos,
      chestVideos,
      shoulderVideos,
      backVideos,
      legVideos,
      bicepPosterImages,
      tricepPosterImages,
      chestPosterImages,
      shoulderPosterImages,
      backPosterImages,
      legPosterImages,
    };
  },
  mounted() {
    const button = document.querySelector('.unlockpro button');
    const stars = document.querySelectorAll('.unlockpro svg');

    setInterval(() => {
      button.classList.add('auto-hover');
      stars.forEach(star => star.classList.add('auto-hover'));

      setTimeout(() => {
        button.classList.remove('auto-hover');
        stars.forEach(star => star.classList.remove('auto-hover'));
      }, 1000); // duration of hover effect in milliseconds
    }, 5000); // interval in milliseconds
  },
  methods: {
    getCookie(name) {
      let match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
      if (match) return match[2];
      return null;
    },
    handleButtonClick() {
      const gymDataCookie = this.getCookie("GymData");
      console.log("GymData cookie:", gymDataCookie);

      if (gymDataCookie) {
        console.log("Cookie found, opening diet plan page...");
        this.$router.push('/dietplan'); // use Vue Router for navigation
      } else {
        console.log("Cookie not found, opening popup...");
        this.$router.push('/login'); // open the login page
      }
    }
  }
};
</script>

<style scoped>
.home {
  margin-top: 70px;
  background-color: #222;
}
/* PRO DIET PLAN BUTTON */
.unlockpro button {
  position: relative;
  padding: 12px 35px;
  background: #fec195;
  font-size: 17px;
  font-weight: 500;
  color: #181818;
  border: 3px solid #fec195;
  border-radius: 8px;
  box-shadow: 0 0 0 #fec1958c;
   transition: all 0.3s ease-in-out;
  cursor: pointer;
  margin-top: 25px;
}
.unlockpro .star-1 {
  position: absolute;
  top: 20%;
  left: 20%;
  width: 25px;
  height: auto;
  filter: drop-shadow(0 0 0 #fffdef);
  z-index: -5;
  transition: all 1s cubic-bezier(0.05, 0.83, 0.43, 0.96);
}
.unlockpro .star-2 {
  position: absolute;
  top: 45%;
  left: 45%;
  width: 15px;
  height: auto;
  filter: drop-shadow(0 0 0 #fffdef);
  z-index: -5;
  transition: all 1s cubic-bezier(0, 0.4, 0, 1.01);
}
.unlockpro .star-3 {
  position: absolute;
  top: 40%;
  left: 40%;
  width: 5px;
  height: auto;
  filter: drop-shadow(0 0 0 #fffdef);
  z-index: -5;
  transition: all 1s cubic-bezier(0, 0.4, 0, 1.01);
}

.unlockpro .star-4 {
  position: absolute;
  top: 20%;
  left: 40%;
  width: 8px;
  height: auto;
  filter: drop-shadow(0 0 0 #fffdef);
  z-index: -5;
  transition: all 0.8s cubic-bezier(0, 0.4, 0, 1.01);
}
.unlockpro .star-5 {
  position: absolute;
  top: 25%;
  left: 45%;
  width: 15px;
  height: auto;
  filter: drop-shadow(0 0 0 #fffdef);
  z-index: -5;
  transition: all 0.6s cubic-bezier(0, 0.4, 0, 1.01);
}
.unlockpro .star-6 {
  position: absolute;
  top: 5%;
  left: 50%;
  width: 5px;
  height: auto;
  filter: drop-shadow(0 0 0 #fffdef);
  z-index: -5;
  transition: all 0.8s ease;
}
.unlockpro button.auto-hover {
  background: transparent;
  color: #fec195;
  box-shadow: 0 0 25px #fec1958c;
}
.unlockpro button.auto-hover .star-1 {
  position: absolute;
  top: -80%;
  left: -30%;
  width: 25px;
  height: auto;
  filter: drop-shadow(0 0 10px #fffdef);
  z-index: 2;
}
.unlockpro button.auto-hover .star-2 {
  position: absolute;
  top: -25%;
  left: 10%;
  width: 15px;
  height: auto;
  filter: drop-shadow(0 0 10px #fffdef);
  z-index: 2;
}
.unlockpro button.auto-hover .star-3 {
  position: absolute;
  top: 55%;
  left: 25%;
  width: 5px;
  height: auto;
  filter: drop-shadow(0 0 10px #fffdef);
  z-index: 2;
}
.unlockpro button.auto-hover .star-4 {
  position: absolute;
  top: 30%;
  left: 80%;
  width: 8px;
  height: auto;
  filter: drop-shadow(0 0 10px #fffdef);
  z-index: 2;
}
.unlockpro button.auto-hover .star-5 {
  position: absolute;
  top: 25%;
  left: 115%;
  width: 15px;
  height: auto;
  filter: drop-shadow(0 0 10px #fffdef);
  z-index: 2;
}
.unlockpro button.auto-hover .star-6 {
  position: absolute;
  top: 5%;
  left: 60%;
  width: 5px;
  height: auto;
  filter: drop-shadow(0 0 10px #fffdef);
  z-index: 2;
}
.unlockpro .fil0 {
  fill: #fffdef;
}
.unlockpro {
  display: flex;
  justify-content: center;
  width: 100%;
}
</style>
